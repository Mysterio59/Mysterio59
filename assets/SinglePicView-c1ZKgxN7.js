import{_ as m,b as p,c as o,a as t,q as _,t as c,F as h,e as k,l as g,m as b,o as i}from"./index-Dq5ENGok.js";const f={name:"SinglePicView",components:{},data(){return{imageData:null,resultData:{},algorithm:"openvino_yolov5",isVisible:!0,resultImg:null}},methods:{picUploadChanged(l){const s=l.target.files[0];if(s){const d=new FileReader;d.readAsDataURL(s),d.onload=u=>{this.imageData=u.target.result}}},upLoadPicture(){p.post("/api/image/objectDetect",{image_base64:this.imageData,algorithm:this.algorithm,isVisible:this.isVisible}).then(l=>{this.resultData=l.data.result}).catch(l=>{console.log(l)})}}},v=t("h3",null,"单张图片测试",-1),x={class:"uk-flex uk-flex-middle uk-flex-center text-center"},D={class:"uk-flex uk-flex-column choose-upload text-center"},y=t("img",{src:g,class:"m-auto",alt:""},null,-1),V=t("p",{class:"my-3"},[b(" 请选择本地图片进行上传 "),t("br")],-1),w={"uk-form-custom":""},C=t("button",{class:"button soft-warning small"}," 选择图片 ",-1),L=t("hr",{class:"m-0"},null,-1),P=t("div",{class:"text-center uk-text-small py-2 uk-text-muted"}," 图片大小限制为:10M ",-1),U={class:"uk-child-width-1-2 uk-text-center"},B=t("button",{class:"button success"},"取消",-1),F={class:"uk-child-width-1-2@m","uk-grid":""},N={class:"uk-card uk-card-default"},S={class:"uk-card-media-top"},j=["src"],R=t("div",{class:"uk-card-body"},[t("h3",{class:"uk-card-title"},"上传图片")],-1),q={class:"uk-card uk-card-default"},A={class:"uk-card-media-top"},E=["src"],I=t("div",{class:"uk-card-body"},[t("h3",{class:"uk-card-title"},"检测结果")],-1),M={class:".uk-position-fixed"},T={class:"uk-table uk-table-striped"},z=t("thead",null,[t("tr",null,[t("th",null,"序号"),t("th",null,"类别"),t("th",null,"位置"),t("th",null,"置信度")])],-1);function G(l,s,d,u,a,n){return i(),o(h,null,[v,t("div",x,[t("div",D,[y,V,t("div",w,[t("input",{type:"file",onChange:s[0]||(s[0]=(...e)=>n.picUploadChanged&&n.picUploadChanged(...e)),accept:"*.png *.jpg"},null,32),C])])]),L,P,t("div",U,[B,t("button",{class:"button success",onClick:s[1]||(s[1]=(...e)=>n.upLoadPicture&&n.upLoadPicture(...e))},"确认")]),t("div",F,[t("div",null,[t("div",N,[t("div",S,[a.imageData?(i(),o("img",{key:0,src:a.imageData,alt:""},null,8,j)):_("",!0)]),R])]),t("div",null,[t("div",q,[t("div",A,[a.resultData?(i(),o("img",{key:0,src:a.resultData.base64_img,alt:""},null,8,E)):_("",!0)]),I])]),t("div",M,[t("p",null,"共检测到"+c(a.resultData.detect_num)+"个目标",1),t("table",T,[z,t("tbody",null,[(i(!0),o(h,null,k(a.resultData.detect_data,(e,r)=>(i(),o("tr",{key:r},[t("td",null,c(r),1),t("td",null,c(e.class_name),1),t("td",null,c(e.location),1),t("td",null,c(e.score),1)]))),128))])])])])],64)}const J=m(f,[["render",G]]);export{J as default};
